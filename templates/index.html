<!DOCTYPE html>
<html>
<body>

<h1>Cookie Clicker!</h1>

<button id="Baker" onclick="myFunction()">Bake</button>

<button id="addAdd" onclick="myFunction2()">Increase cookies per click</button>

<button id="BuyGrandma" onclick="addGrandma()">Buy a grandma!</button>

<p id="numberOfCookies"></p>

<p id="cookiesYouNeed"></p>

<p id="howManyYouGet"></p>

<p id="costOfGrandma"></p>

<p id="cookiesPerGrandma"></p>

<p id="numberOfGrandmas"></p>

<script>


//TODO: make it so that every so often you can find more or less cookies per click. Also you can find treasure chests.
//TODO: upgrade cookies per grandma in addition to number of grandmas.
//TODO: make it so that this is and android game.
var cookies = 1;
var cookiesPerClick = 1;
var cost = 2;
var add = 2
var fibonacci1 = 1;
var fibonacci2 = 0;
var currentFibonacci;
var isGrandmaRunning = 0;
var numGrandma = 0;

document.getElementById("Baker").style.background='#ffa500';

function getNextFibonacci() {
	currentFibonacci = fibonacci1 + fibonacci2
		fibonacci2 = fibonacci1
		fibonacci1 = currentFibonacci
		return currentFibonacci


}

function updateDisplay() {

	document.getElementById("numberOfCookies").innerHTML = "You have " + cookies + " cookies!";
        document.getElementById("cookiesPerGrandma").innerHTML = "You have " + numGrandma + " Grandmas!"
	document.getElementById("cookiesYouNeed").innerHTML = "You need " + cost + " cookies untill you can upgrade cookies per click!";
	document.getElementById("howManyYouGet").innerHTML = "You get " + cookiesPerClick + " cookies per click!"
		if (cookies >= cost){
			document.getElementById("addAdd").style.background='#00ff00';
		}
		else{
			document.getElementById("addAdd").style.background='#ff0000';
		}


}

function runGrandma() {
	setTimeout(function(){
	cookies = cookies + (numGrandma * 500);
			runGrandma();
                        updateDisplay();
			}, 2000);


}

function addGrandma() {

	if (cookies >= 1000) {
		if(isGrandmaRunning == 1){
			//Increase something or other
			numGrandma = numGrandma + 1
                        cookies = cookies - 1000
		}
		else{
			runGrandma();
			isGrandmaRunning = 1
		}
		updateDisplay();

	}


}


function myFunction() {
	cookies = cookies + cookiesPerClick;
	updateDisplay();
}
function myFunction2() {
	if (cookies >= cost) {
		cookiesPerClick = cookiesPerClick + add;

		cookies = cookies - cost;
		add = add + 2
			cost = getNextFibonacci();
		updateDisplay();   

	}
}
</script>

</body>
</html>
